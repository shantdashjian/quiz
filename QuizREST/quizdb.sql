-- MySQL Script generated by MySQL Workbench
-- Tue Apr 18 16:16:52 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema quizdb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `quizdb` ;

-- -----------------------------------------------------
-- Schema quizdb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `quizdb` DEFAULT CHARACTER SET utf8 ;
USE `quizdb` ;

-- -----------------------------------------------------
-- Table `quizdb`.`quiz`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `quizdb`.`quiz` ;

CREATE TABLE IF NOT EXISTS `quizdb`.`quiz` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(255) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 13
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `quizdb`.`question`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `quizdb`.`question` ;

CREATE TABLE IF NOT EXISTS `quizdb`.`question` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `quiz_id` INT(11) NOT NULL,
  `question_text` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `quiz_id` (`quiz_id` ASC),
  CONSTRAINT `question_ibfk_1`
    FOREIGN KEY (`quiz_id`)
    REFERENCES `quizdb`.`quiz` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 7
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `quizdb`.`answer`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `quizdb`.`answer` ;

CREATE TABLE IF NOT EXISTS `quizdb`.`answer` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `question_id` INT(11) NOT NULL,
  `answer_text` TEXT NULL DEFAULT NULL,
  `is_correct` TINYINT(1) NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `question_id` (`question_id` ASC),
  CONSTRAINT `answer_ibfk_1`
    FOREIGN KEY (`question_id`)
    REFERENCES `quizdb`.`question` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 21
DEFAULT CHARACTER SET = utf8;

SET SQL_MODE = '';
GRANT USAGE ON *.* TO student;
 DROP USER student;
SET SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';
CREATE USER 'student' IDENTIFIED BY 'student';

GRANT ALL ON `quizdb`.* TO 'student';

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `quizdb`.`quiz`
-- -----------------------------------------------------
START TRANSACTION;
USE `quizdb`;
INSERT INTO `quizdb`.`quiz` (`id`, `name`) VALUES (1, 'German');
INSERT INTO `quizdb`.`quiz` (`id`, `name`) VALUES (2, 'REST');
LOCK TABLES `quiz` WRITE;
/*!40000 ALTER TABLE `quiz` DISABLE KEYS */;
INSERT INTO `quiz` VALUES (10,'States');
/*!40000 ALTER TABLE `quiz` ENABLE KEYS */;
UNLOCK TABLES;

LOCK TABLES `question` WRITE;
/*!40000 ALTER TABLE `question` DISABLE KEYS */;
INSERT INTO `question` VALUES (1,10,'What is the smallest state in the US'),(2,10,'What is the Colorado state bird?'),(3,10,'What is the capital of Colorado?'),(4,10,'What is the Colorado state bird?'),(5,10,'What is the official state dance of Colorado?');
/*!40000 ALTER TABLE `question` ENABLE KEYS */;
UNLOCK TABLES;

LOCK TABLES `answer` WRITE;
/*!40000 ALTER TABLE `answer` DISABLE KEYS */;
INSERT INTO `answer` VALUES (1,1,'Deleware',0),(2,1,'Rhode Island',1),(3,1,'Texas',0),(4,1,'Maine',0),(5,2,'Lark bunting',1),(6,2,'Northern mockingbird',0),(7,2,'Brown pelican',0),(8,2,'Willow ptarmigan',0),(9,3,'Vail',0),(10,3,'Denver',1),(11,3,'Aspen',0),(12,3,'Parker',0),(13,4,'Carnation',0),(14,4,'Rocky Mountain Columbine',1),(15,4,'Rhododendron',0),(16,4,'Saguaro',0),(17,5,'Clogging',0),(18,5,'State Dance',1),(19,5,'Lindy Hop',0),(20,5,'Two step',0);
/*!40000 ALTER TABLE `answer` ENABLE KEYS */;
UNLOCK TABLES;
COMMIT;

